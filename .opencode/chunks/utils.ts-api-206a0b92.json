{
  "id": "utils.ts-api-206a0b92",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-dynamic-context-pruning/lib/ui/utils.ts",
  "chunk_type": "api",
  "content": "# API Surface: utils.ts\n\n## Public Functions\n\n### countDistillationTokens\n```typescript\nexport function countDistillationTokens(distillation?: string[]): number\n```\nNo documentation found\n\n**Parameters:**\n- `distillation`: string[] - \n\n**Returns:** number\n\n\n### formatExtracted\n```typescript\nexport function formatExtracted(distillation?: string[]): string\n```\nNo documentation found\n\n**Parameters:**\n- `distillation`: string[] - \n\n**Returns:** string\n\n\n### formatStatsHeader\n```typescript\nexport function formatStatsHeader(totalTokensSaved: number, pruneTokenCounter: number): string\n```\nNo documentation found\n\n**Parameters:**\n- `totalTokensSaved`: number - \n- `pruneTokenCounter`: number - \n\n**Returns:** string\n\n\n### formatTokenCount\n```typescript\nexport function formatTokenCount(tokens: number): string\n```\nNo documentation found\n\n**Parameters:**\n- `tokens`: number - \n\n**Returns:** string\n\n\n### truncate\n```typescript\nexport function truncate(str: string, maxLen: number = 60): string\n```\nNo documentation found\n\n**Parameters:**\n- `str`: string - \n- `maxLen`: number - \n\n**Returns:** string\n\n\n### shortenPath\n```typescript\nexport function shortenPath(input: string, workingDirectory?: string): string\n```\nNo documentation found\n\n**Parameters:**\n- `input`: string - \n- `workingDirectory`: string - \n\n**Returns:** string\n\n\n### formatPrunedItemsList\n```typescript\nexport function formatPrunedItemsList(\n    pruneToolIds: string[],\n    toolMetadata: Map<string, ToolParameterEntry>,\n    workingDirectory?: string,\n): string[]\n```\nFormats a list of pruned items in the style: \"â†’ tool: parameter\"\n\n**Parameters:**\n- `pruneToolIds`: string[] - \n- `toolMetadata`: Map<string, ToolParameterEntry> - \n- `workingDirectory`: string - \n\n**Returns:** string[]\n\n\n### formatPruningResultForTool\n```typescript\nexport function formatPruningResultForTool(\n    prunedIds: string[],\n    toolMetadata: Map<string, ToolParameterEntry>,\n    workingDirectory?: string,\n): string\n```\nFormats a PruningResult into a human-readable string for the prune tool output.\n\n**Parameters:**\n- `prunedIds`: string[] - \n- `toolMetadata`: Map<string, ToolParameterEntry> - \n- `workingDirectory`: string - \n\n**Returns:** string\n\n\n## Classes\n\n\n## Interfaces\n\n\n## Types\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.185Z",
    "updated_at": "2026-01-30T05:26:52.185Z",
    "hash": "63516e56f7e25bb13bfaa374bc76967d18b3a65a8b426182e9843992af0bf82a",
    "dependencies": [
      "../state",
      "../messages/utils",
      "../strategies/utils"
    ],
    "symbols": [
      "countDistillationTokens",
      "formatExtracted",
      "result",
      "finding",
      "formatStatsHeader",
      "totalTokensSavedStr",
      "formatTokenCount",
      "truncate",
      "shortenPath",
      "inPathMatch",
      "prefix",
      "pathPart",
      "shortenedPath",
      "shortenSinglePath",
      "formatPrunedItemsList",
      "lines",
      "id",
      "metadata",
      "paramKey",
      "displayKey",
      "knownCount",
      "unknownCount",
      "formatPruningResultForTool",
      "lines"
    ],
    "complexity_score": 100
  }
}