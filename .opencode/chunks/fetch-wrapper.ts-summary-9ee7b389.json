{
  "id": "fetch-wrapper.ts-summary-9ee7b389",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-google-antigravity-auth/src/plugin/fetch-wrapper.ts",
  "chunk_type": "summary",
  "content": "# Summary: fetch-wrapper.ts\n\n## File Type\n.ts - TypeScript source file\n\n## Purpose\nPurpose not explicitly documented\n\n## Key Components\n\n### Functions (17)\n- **computeExponentialBackoffMs**: No documentation found\n- **toUrlStr**: No documentation found\n- **extractModelFromUrl**: No documentation found\n- **getModelFamilyFromUrl**: No documentation found\n- **sleep**: No documentation found\n- **sleepWithBackoff**: No documentation found\n- **overrideEndpointForRequest**: No documentation found\n- **parseRetryAfterMs**: No documentation found\n- **parseDurationLikeToMs**: No documentation found\n- **formatWaitTimeMs**: No documentation found\n- **extractRateLimitBodyInfo**: No documentation found\n- **parseRateLimitInfoFromBodyText**: No documentation found\n- **extractRetryAfterFromBodyMs**: No documentation found\n- **handleRateLimit**: No documentation found\n- **handleServerError**: No documentation found\n- **tryEndpointFallbacks**: No documentation found\n- **createAntigravityFetch**: No documentation found\n\n\n\n\n## Dependencies\n- ./types\n- ../constants\n- ./auth\n- ./accounts\n- ./storage\n- ./token\n- ./project\n- ./request\n- ./request-helpers\n- ./debug\n- ./logger\n\n## Exports\n- computeExponentialBackoffMs\n- sleep\n- sleepWithBackoff\n- overrideEndpointForRequest\n- createAntigravityFetch\n\n## Complexity Metrics\n- Lines of code: 824\n- Estimated complexity: 100/100\n\n## Notes\nNo specific notes found",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.207Z",
    "updated_at": "2026-01-30T05:26:52.207Z",
    "hash": "fda4ccba815a9a1e2da654a6ada5ae2b61b015d894c1d915db29a115d5a5da5b",
    "dependencies": [
      "./types",
      "../constants",
      "./auth",
      "./accounts",
      "./storage",
      "./token",
      "./project",
      "./request",
      "./request-helpers",
      "./debug",
      "./logger"
    ],
    "symbols": [
      "log",
      "RATE_LIMIT_BACKOFF_BASE_MS",
      "RATE_LIMIT_BACKOFF_MAX_MS",
      "RATE_LIMIT_SERVER_RETRY_MAX_MS",
      "RateLimitDelay",
      "computeExponentialBackoffMs",
      "safeAttempt",
      "multiplier",
      "toUrlStr",
      "extractModelFromUrl",
      "match",
      "getModelFamilyFromUrl",
      "model",
      "sleep",
      "timeout",
      "onAbort",
      "cleanup",
      "sleepWithBackoff",
      "stepsMs",
      "remainingMs",
      "stepIndex",
      "stepMs",
      "waitMs",
      "overrideEndpointForRequest",
      "replaceBase",
      "newUrl",
      "parseRetryAfterMs",
      "retryAfterMsHeader",
      "retryAfterSecondsHeader",
      "parsed",
      "parsed",
      "parseDurationLikeToMs",
      "trimmed",
      "matches",
      "totalMs",
      "match",
      "value",
      "unit",
      "parsed",
      "formatWaitTimeMs",
      "totalSeconds",
      "hours",
      "minutes",
      "seconds",
      "RateLimitBodyInfo",
      "extractRateLimitBodyInfo",
      "error",
      "message",
      "details",
      "detail",
      "type",
      "retryDelay",
      "retryDelayMs",
      "detail",
      "metadata",
      "quotaResetDelay",
      "quotaResetDelayMs",
      "afterMatch",
      "rawDuration",
      "parsed",
      "parseRateLimitInfoFromBodyText",
      "direct",
      "lines",
      "line",
      "jsonText",
      "parsed",
      "info",
      "extractRetryAfterFromBodyMs",
      "text",
      "AttemptInfo",
      "EndpointLoopResult",
      "handleRateLimit",
      "retryAfterHeaderMs",
      "bodyInfo",
      "retryAfterBodyMs",
      "serverRetryAfterMs",
      "retryAfterMs",
      "waitTimeSec",
      "retrySource",
      "error",
      "switchThresholdMs",
      "error",
      "handleServerError",
      "retryAfterMs",
      "error",
      "tryEndpointFallbacks",
      "lastError",
      "lastResponse",
      "lastAttemptInfo",
      "normalizedInput",
      "i",
      "currentEndpoint",
      "finalUrl",
      "originalUrl",
      "resolvedUrl",
      "debugContext",
      "response",
      "shouldRetryEndpoint",
      "error",
      "createAntigravityFetch",
      "rateLimitStateByAccount",
      "getRateLimitDelay",
      "now",
      "previous",
      "attempt",
      "backoffMs",
      "delayMs",
      "resetRateLimitState",
      "normalizedInput",
      "latestAuth",
      "urlString",
      "family",
      "storedAccounts",
      "accountManager",
      "accountCount",
      "resolveProjectContext",
      "abortSignal",
      "previousAccount",
      "account",
      "waitTimeMs",
      "waitTimeSec",
      "waitTimeHuman",
      "isSwitch",
      "wasRateLimited",
      "switchReason",
      "error",
      "authRecord",
      "refreshed",
      "parts",
      "error",
      "accessToken",
      "projectContext",
      "result",
      "waitMs",
      "saveError",
      "debugContext",
      "debugContext"
    ],
    "complexity_score": 100
  }
}