{
  "id": "state.ts-invariant-78328b86",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-worktree/src/plugin/worktree/state.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: state.ts\n\n## Core Invariants\n\n\n## Constraints\n\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nError handling metrics: 0 try-catch blocks, 2 throw statements\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.386Z",
    "updated_at": "2026-01-30T05:26:52.386Z",
    "hash": "33b3583c444981418571b31ee6573c22ffbcc97b061a1d5e337fe500f836bb96",
    "dependencies": [
      "bun:sqlite",
      "node:fs",
      "node:os",
      "node:path",
      "zod",
      "../kdco-primitives",
      "../kdco-primitives"
    ],
    "symbols": [
      "Session",
      "PendingSpawn",
      "PendingDelete",
      "sessionSchema",
      "pendingSpawnSchema",
      "pendingDeleteSchema",
      "getWorktreePath",
      "projectId",
      "getDbDirectory",
      "home",
      "getDbPath",
      "projectId",
      "initStateDb",
      "dbPath",
      "dbDir",
      "db",
      "addSession",
      "parsed",
      "stmt",
      "getSession",
      "stmt",
      "row",
      "removeSession",
      "stmt",
      "getAllSessions",
      "stmt",
      "rows",
      "setPendingSpawn",
      "parsed",
      "existingSpawn",
      "existingDelete",
      "stmt",
      "getPendingSpawn",
      "stmt",
      "row",
      "clearPendingSpawn",
      "stmt",
      "setPendingDelete",
      "parsed",
      "existingDelete",
      "existingSpawn",
      "stmt",
      "getPendingDelete",
      "stmt",
      "row",
      "clearPendingDelete",
      "stmt"
    ],
    "complexity_score": 100
  }
}