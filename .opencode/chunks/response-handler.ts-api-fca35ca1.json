{
  "id": "response-handler.ts-api-fca35ca1",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-openai-codex-auth/lib/request/response-handler.ts",
  "chunk_type": "api",
  "content": "# API Surface: response-handler.ts\n\n## Public Functions\n\n### convertSseToJson\n```typescript\nexport async function convertSseToJson(response: Response, headers: Headers): Promise<Response>\n```\nConvert SSE stream response to JSON for generateText()\n\n**Parameters:**\n- `response`: Response - \n- `headers`: Headers - \n\n**Returns:** Promise<Response>\n\n\n### ensureContentType\n```typescript\nexport function ensureContentType(headers: Headers): Headers\n```\nEnsure response has content-type header\n\n**Parameters:**\n- `headers`: Headers - \n\n**Returns:** Headers\n\n\n## Classes\n\n\n## Interfaces\n\n\n## Types\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.305Z",
    "updated_at": "2026-01-30T05:26:52.305Z",
    "hash": "ec535996d9ce657b669046a7caa3cde67eab62a4cd59e3f112d053bc9bb3dd72",
    "dependencies": [
      "../logger.js",
      "../types.js"
    ],
    "symbols": [
      "parseSseStream",
      "lines",
      "line",
      "data",
      "e",
      "convertSseToJson",
      "reader",
      "decoder",
      "fullText",
      "finalResponse",
      "jsonHeaders",
      "error",
      "ensureContentType",
      "responseHeaders"
    ],
    "complexity_score": 95.2
  }
}