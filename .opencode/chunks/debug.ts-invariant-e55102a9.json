{
  "id": "debug.ts-invariant-e55102a9",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/src/plugin/debug.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: debug.ts\n\n## Core Invariants\n\n\n## Constraints\n- **MAX_BODY_PREVIEW_CHARS**: 12000\n- **MAX_BODY_VERBOSE_CHARS**: 50000\n- **DEBUG_MESSAGE_PREFIX**: \"[opencode-antigravity-auth debug]\"\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nError handling metrics: 4 try-catch blocks, 0 throw statements\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:51.952Z",
    "updated_at": "2026-01-30T05:26:51.952Z",
    "hash": "520560f273b1a218d191fc8e5779c692ef6e6bd77c1632b28908bac5f7fc5ad3",
    "dependencies": [
      "node:fs",
      "node:path",
      "node:os",
      "node:process",
      "./config",
      "./storage"
    ],
    "symbols": [
      "MAX_BODY_PREVIEW_CHARS",
      "MAX_BODY_VERBOSE_CHARS",
      "DEBUG_MESSAGE_PREFIX",
      "DebugState",
      "debugState",
      "parseDebugLevel",
      "trimmed",
      "getConfigDir",
      "platform",
      "xdgConfig",
      "getLogsDir",
      "logsDir",
      "createLogFilePath",
      "timestamp",
      "createLogWriter",
      "stream",
      "timestamp",
      "formatted",
      "initializeDebug",
      "envDebugFlag",
      "debugLevel",
      "debugEnabled",
      "verboseEnabled",
      "logFilePath",
      "logWriter",
      "getDebugState",
      "envDebugFlag",
      "debugLevel",
      "debugEnabled",
      "verboseEnabled",
      "logFilePath",
      "logWriter",
      "isDebugEnabled",
      "isVerboseEnabled",
      "getLogFilePath",
      "AntigravityDebugContext",
      "AntigravityDebugRequestMeta",
      "AntigravityDebugResponseMeta",
      "requestCounter",
      "startAntigravityDebugRequest",
      "state",
      "id",
      "method",
      "bodyPreview",
      "logAntigravityDebugResponse",
      "state",
      "durationMs",
      "maskHeaders",
      "result",
      "parsed",
      "formatBodyPreview",
      "truncateForLog",
      "logDebug",
      "formatError",
      "AccountDebugInfo",
      "logAccountContext",
      "accountLabel",
      "indexLabel",
      "rateLimitInfo",
      "logRateLimitEvent",
      "accountLabel",
      "logRateLimitSnapshot",
      "now",
      "entries",
      "label",
      "reset",
      "remaining",
      "seconds",
      "logResponseBody",
      "state",
      "isError",
      "shouldLogBody",
      "text",
      "maxChars",
      "preview",
      "e",
      "logModelFamily",
      "debugLogToFile"
    ],
    "complexity_score": 100
  }
}