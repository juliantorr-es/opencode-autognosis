{
  "id": "test-regression.ts-invariant-e5eafc64",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/script/test-regression.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: test-regression.ts\n\n## Core Invariants\n\n\n## Constraints\n- **ERROR_PATTERNS**: [\n  \"thinking block order\",\n  \"Expected thinking or redacted_thinking\",\n  \"tool_use ids were found without tool_result\",\n  \"tool_result_missing\",\n  \"thinking_disabled_violation\",\n  \"orphaned tool_use\",\n  \"must start with thinking block\",\n  \"error: tool_use without matching tool_result\",\n  \"cannot be modified\",\n  \"must remain as they were\",\n]\n- **GEMINI_FLASH**: \"google/antigravity-gemini-3-flash\"\n- **GEMINI_FLASH_CLI_QUOTA**: \"google/gemini-2.5-flash\"\n- **CLAUDE_SONNET**: \"google/antigravity-claude-sonnet-4-5-thinking-low\"\n- **CLAUDE_OPUS**: \"google/antigravity-claude-opus-4-5-thinking-low\"\n- **RATE_LIMIT_ERROR_PATTERNS**: [\n  \"false alarm\",\n  \"incorrectly marked as rate limited\",\n  \"wrong quota\",\n]\n- **ALL_TESTS**: [...SANITY_TESTS, ...HEAVY_TESTS]\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nNo explicit error handling patterns detected\n\n## Performance Considerations\nPerformance patterns: Uses parallel execution (Promise.all), Contains explicit loops\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:51.873Z",
    "updated_at": "2026-01-30T05:26:51.873Z",
    "hash": "5fff0a7101def5631c184022fc07cb53e9f53a9475c6266b0a0c1f183e4cbc69",
    "dependencies": [
      "child_process"
    ],
    "symbols": [
      "Category",
      "TestSuite",
      "MultiTurnTest",
      "TurnConfig",
      "TestResult",
      "ConcurrentTest",
      "ERROR_PATTERNS",
      "GEMINI_FLASH",
      "GEMINI_FLASH_CLI_QUOTA",
      "CLAUDE_SONNET",
      "CLAUDE_OPUS",
      "SANITY_TESTS",
      "HEAVY_TESTS",
      "generateEnduranceTest",
      "turns",
      "prompts",
      "i",
      "template",
      "prompt",
      "RATE_LIMIT_ERROR_PATTERNS",
      "CONCURRENT_TESTS",
      "ALL_TESTS",
      "runTurn",
      "args",
      "proc",
      "stdout",
      "stderr",
      "timeoutId",
      "extractedSessionId",
      "match",
      "deleteSession",
      "proc",
      "runConcurrentTest",
      "start",
      "sessionIds",
      "promises",
      "results",
      "result",
      "result",
      "pattern",
      "sid",
      "failedResults",
      "failedCount",
      "sid",
      "firstFailure",
      "failureDetails",
      "sid",
      "runMultiTurnTest",
      "start",
      "sessionId",
      "turnsCompleted",
      "index",
      "turn",
      "prompt",
      "model",
      "turnStart",
      "result",
      "pattern",
      "isTimeout",
      "parseArgs",
      "args",
      "getArg",
      "idx",
      "suite",
      "showHelp",
      "main",
      "tests",
      "runConcurrentOnly",
      "totalTurns",
      "concurrentCount",
      "test",
      "results",
      "test",
      "result",
      "concurrentTests",
      "test",
      "result",
      "passed",
      "failed",
      "totalTime",
      "r"
    ],
    "complexity_score": 100
  }
}