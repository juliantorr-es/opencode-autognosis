{
  "id": "utils.ts-invariant-75fb5a46",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-dynamic-context-pruning/lib/messages/utils.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: utils.ts\n\n## Core Invariants\n\n\n## Constraints\n- **SYNTHETIC_MESSAGE_ID**: \"msg_01234567890123456789012345\"\nconst SYNTHETIC_PART_ID\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nNo explicit error handling patterns detected\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.160Z",
    "updated_at": "2026-01-30T05:26:52.160Z",
    "hash": "8afd01a5330740d3c504eafa07a98dd4e2c93ae5ba3f5830f6226e36a3127763",
    "dependencies": [
      "../logger",
      "../shared-utils",
      "../state",
      "@opencode-ai/sdk/v2"
    ],
    "symbols": [
      "SYNTHETIC_MESSAGE_ID",
      "SYNTHETIC_PART_ID",
      "SYNTHETIC_CALL_ID",
      "isGeminiModel",
      "lowerModelID",
      "createSyntheticUserMessage",
      "userInfo",
      "now",
      "createSyntheticAssistantMessage",
      "userInfo",
      "now",
      "baseInfo",
      "toolPartMetadata",
      "extractParameterKey",
      "offset",
      "limit",
      "pathInfo",
      "pathInfo",
      "op",
      "path",
      "line",
      "char",
      "questions",
      "headers",
      "count",
      "plural",
      "suffix",
      "paramStr",
      "buildToolIdList",
      "toolIds",
      "msg",
      "parts",
      "part",
      "isIgnoredUserMessage",
      "parts",
      "part"
    ],
    "complexity_score": 100
  }
}