{
  "id": "storage.ts-summary-c62d613a",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/src/plugin/recovery/storage.ts",
  "chunk_type": "summary",
  "content": "# Summary: storage.ts\n\n## File Type\n.ts - TypeScript source file\n\n## Purpose\nPurpose not explicitly documented\n\n## Key Components\n\n### Functions (17)\n- **generatePartId**: No documentation found\n- **getMessageDir**: No documentation found\n- **readMessages**: No documentation found\n- **readParts**: No documentation found\n- **hasContent**: No documentation found\n- **messageHasContent**: No documentation found\n- **injectTextPart**: No documentation found\n- **findMessagesWithThinkingBlocks**: No documentation found\n- **findMessagesWithThinkingOnly**: No documentation found\n- **findMessagesWithOrphanThinking**: No documentation found\n- **prependThinkingPart**: No documentation found\n- **stripThinkingParts**: No documentation found\n- **findEmptyMessages**: No documentation found\n- **findEmptyMessageByIndex**: No documentation found\n- **findMessageByIndexNeedingThinking**: No documentation found\n- **replaceEmptyTextParts**: No documentation found\n- **findMessagesWithEmptyTextParts**: No documentation found\n\n\n\n\n## Dependencies\n- node:fs\n- node:path\n- ./constants\n- ./types\n\n## Exports\n- generatePartId\n- getMessageDir\n- readMessages\n- readParts\n- hasContent\n- messageHasContent\n- injectTextPart\n- findMessagesWithThinkingBlocks\n- findMessagesWithThinkingOnly\n- findMessagesWithOrphanThinking\n- prependThinkingPart\n- stripThinkingParts\n- findEmptyMessages\n- findEmptyMessageByIndex\n- findMessageByIndexNeedingThinking\n- replaceEmptyTextParts\n- findMessagesWithEmptyTextParts\n\n## Complexity Metrics\n- Lines of code: 398\n- Estimated complexity: 100/100\n\n## Notes\nNo specific notes found",
  "metadata": {
    "created_at": "2026-01-30T05:26:51.970Z",
    "updated_at": "2026-01-30T05:26:51.970Z",
    "hash": "c17c0a9a32bda35477dd511276a38b12626981e780ff93d23f3fdbd00b10e692",
    "dependencies": [
      "node:fs",
      "node:path",
      "./constants",
      "./types"
    ],
    "symbols": [
      "generatePartId",
      "timestamp",
      "random",
      "getMessageDir",
      "directPath",
      "dir",
      "sessionPath",
      "readMessages",
      "messageDir",
      "messages",
      "file",
      "content",
      "aTime",
      "bTime",
      "readParts",
      "partDir",
      "parts",
      "file",
      "content",
      "hasContent",
      "textPart",
      "messageHasContent",
      "parts",
      "injectTextPart",
      "partDir",
      "partId",
      "part",
      "findMessagesWithThinkingBlocks",
      "messages",
      "result",
      "msg",
      "parts",
      "hasThinking",
      "findMessagesWithThinkingOnly",
      "messages",
      "result",
      "msg",
      "parts",
      "hasThinking",
      "hasTextContent",
      "findMessagesWithOrphanThinking",
      "messages",
      "result",
      "i",
      "msg",
      "parts",
      "sortedParts",
      "firstPart",
      "firstIsThinking",
      "prependThinkingPart",
      "partDir",
      "partId",
      "part",
      "stripThinkingParts",
      "partDir",
      "anyRemoved",
      "file",
      "filePath",
      "content",
      "part",
      "findEmptyMessages",
      "messages",
      "emptyIds",
      "msg",
      "findEmptyMessageByIndex",
      "messages",
      "indicesToTry",
      "idx",
      "targetMsg",
      "findMessageByIndexNeedingThinking",
      "messages",
      "targetMsg",
      "parts",
      "sortedParts",
      "firstPart",
      "firstIsThinking",
      "replaceEmptyTextParts",
      "partDir",
      "anyReplaced",
      "file",
      "filePath",
      "content",
      "part",
      "textPart",
      "findMessagesWithEmptyTextParts",
      "messages",
      "result",
      "msg",
      "parts",
      "hasEmptyTextPart",
      "textPart"
    ],
    "complexity_score": 100
  }
}