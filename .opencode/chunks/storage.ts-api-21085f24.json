{
  "id": "storage.ts-api-21085f24",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-google-antigravity-auth/src/plugin/recovery/storage.ts",
  "chunk_type": "api",
  "content": "# API Surface: storage.ts\n\n## Public Functions\n\n### generatePartId\n```typescript\nexport function generatePartId(): string\n```\nNo documentation found\n\n**Returns:** string\n\n\n### getMessageDir\n```typescript\nexport function getMessageDir(sessionID: string): string\n```\nNo documentation found\n\n**Parameters:**\n- `sessionID`: string - \n\n**Returns:** string\n\n\n### readMessages\n```typescript\nexport function readMessages(sessionID: string): StoredMessageMeta[]\n```\nNo documentation found\n\n**Parameters:**\n- `sessionID`: string - \n\n**Returns:** StoredMessageMeta[]\n\n\n### readParts\n```typescript\nexport function readParts(messageID: string): StoredPart[]\n```\nNo documentation found\n\n**Parameters:**\n- `messageID`: string - \n\n**Returns:** StoredPart[]\n\n\n### findMessageByIndexNeedingThinking\n```typescript\nexport function findMessageByIndexNeedingThinking(\n  sessionID: string,\n  targetIndex: number\n): string | null\n```\nNo documentation found\n\n**Parameters:**\n- `sessionID`: string - \n- `targetIndex`: number - \n\n**Returns:** string | null\n\n\n### findMessagesWithOrphanThinking\n```typescript\nexport function findMessagesWithOrphanThinking(sessionID: string): string[]\n```\nNo documentation found\n\n**Parameters:**\n- `sessionID`: string - \n\n**Returns:** string[]\n\n\n### findMessagesWithThinkingBlocks\n```typescript\nexport function findMessagesWithThinkingBlocks(sessionID: string): string[]\n```\nNo documentation found\n\n**Parameters:**\n- `sessionID`: string - \n\n**Returns:** string[]\n\n\n### prependThinkingPart\n```typescript\nexport function prependThinkingPart(sessionID: string, messageID: string): boolean\n```\nNo documentation found\n\n**Parameters:**\n- `sessionID`: string - \n- `messageID`: string - \n\n**Returns:** boolean\n\n\n### stripThinkingParts\n```typescript\nexport function stripThinkingParts(messageID: string): boolean\n```\nNo documentation found\n\n**Parameters:**\n- `messageID`: string - \n\n**Returns:** boolean\n\n\n## Classes\n\n\n## Interfaces\n\n\n## Types\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.220Z",
    "updated_at": "2026-01-30T05:26:52.220Z",
    "hash": "3b8bd5122946b9fa901a541773a6cd0380d56c1a0054d8bb37777e7ff60d103a",
    "dependencies": [
      "node:fs",
      "node:path",
      "./constants",
      "./types"
    ],
    "symbols": [
      "generatePartId",
      "timestamp",
      "random",
      "getMessageDir",
      "directPath",
      "dir",
      "sessionPath",
      "readMessages",
      "messageDir",
      "messages",
      "file",
      "content",
      "aTime",
      "bTime",
      "readParts",
      "partDir",
      "parts",
      "file",
      "content",
      "findMessageByIndexNeedingThinking",
      "messages",
      "assistantMessages",
      "findMessagesWithOrphanThinking",
      "messageDir",
      "orphanMessages",
      "file",
      "content",
      "meta",
      "parts",
      "hasThinkingPart",
      "hasReasoningPart",
      "hasLeadingThinking",
      "firstPart",
      "findMessagesWithThinkingBlocks",
      "messageDir",
      "messagesWithThinking",
      "file",
      "content",
      "meta",
      "parts",
      "hasThinking",
      "prependThinkingPart",
      "partDir",
      "parts",
      "alreadyHasThinking",
      "thinkingPart",
      "stripThinkingParts",
      "partDir",
      "removed",
      "file",
      "partPath",
      "content",
      "part"
    ],
    "complexity_score": 100
  }
}