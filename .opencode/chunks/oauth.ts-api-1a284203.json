{
  "id": "oauth.ts-api-1a284203",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-google-antigravity-auth/src/antigravity/oauth.ts",
  "chunk_type": "api",
  "content": "# API Surface: oauth.ts\n\n## Public Functions\n\n### fetchAccountInfo\n```typescript\nexport async function fetchAccountInfo(accessToken: string): Promise<\n```\nAutomatically discover project ID and account tier from Antigravity API.\nTries multiple endpoints to find the user's default project and tier.\n\n**Parameters:**\n- `accessToken`: string - \n\n**Returns:** Promise<{ projectId: string; tier: \"free\" | \"paid\" }>\n\n\n### authorizeAntigravity\n```typescript\nexport async function authorizeAntigravity(projectId = \"\"): Promise<AntigravityAuthorization>\n```\nNo documentation found\n\n**Parameters:**\n- `projectId`: any - \n\n**Returns:** Promise<AntigravityAuthorization>\n\n\n### exchangeAntigravity\n```typescript\nexport async function exchangeAntigravity(\n  code: string,\n  state: string,\n): Promise<AntigravityTokenExchangeResult>\n```\nNo documentation found\n\n**Parameters:**\n- `code`: string - \n- `state`: string - \n\n**Returns:** Promise<AntigravityTokenExchangeResult>\n\n\n## Classes\n\n\n## Interfaces\n\n### PkcePair\n```typescript\ninterface PkcePair\n```\nNo documentation found\n\n\n### AntigravityAuthState\n```typescript\ninterface AntigravityAuthState\n```\nNo documentation found\n\n\n### AntigravityAuthorization\n```typescript\nexport interface AntigravityAuthorization\n```\nNo documentation found\n\n\n### AntigravityTokenExchangeSuccess\n```typescript\ninterface AntigravityTokenExchangeSuccess\n```\nNo documentation found\n\n\n### AntigravityTokenExchangeFailure\n```typescript\ninterface AntigravityTokenExchangeFailure\n```\nNo documentation found\n\n\n### AntigravityTokenResponse\n```typescript\ninterface AntigravityTokenResponse\n```\nNo documentation found\n\n\n### AntigravityUserInfo\n```typescript\ninterface AntigravityUserInfo\n```\nNo documentation found\n\n\n## Types\n\n### AntigravityTokenExchangeResult\n```typescript\nexport type AntigravityTokenExchangeResult\n```\nNo documentation found\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.190Z",
    "updated_at": "2026-01-30T05:26:52.190Z",
    "hash": "12baf4531bef9e50e995305cf6ef7fd49ec9c65842a7911a4c8619d687d82be6",
    "dependencies": [
      "@openauthjs/openauth/pkce",
      "../constants"
    ],
    "symbols": [
      "PkcePair",
      "AntigravityAuthState",
      "AntigravityAuthorization",
      "AntigravityTokenExchangeSuccess",
      "AntigravityTokenExchangeFailure",
      "AntigravityTokenExchangeResult",
      "AntigravityTokenResponse",
      "AntigravityUserInfo",
      "encodeState",
      "decodeState",
      "normalized",
      "padded",
      "json",
      "parsed",
      "fetchAccountInfo",
      "errors",
      "detectedTier",
      "loadHeaders",
      "baseEndpoint",
      "url",
      "response",
      "message",
      "data",
      "projectId",
      "defaultTier",
      "tierId",
      "paidTierId",
      "e",
      "authorizeAntigravity",
      "pkce",
      "url",
      "exchangeAntigravity",
      "tokenResponse",
      "errorText",
      "tokenPayload",
      "userInfoResponse",
      "userInfo",
      "refreshToken",
      "effectiveProjectId",
      "accountInfo",
      "tier",
      "storedRefresh",
      "error"
    ],
    "complexity_score": 100
  }
}