{
  "id": "testing-infrastructure.ts-invariant-264272fe",
  "file_path": "/Users/user/opencode-autognosis/src/testing-infrastructure.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: testing-infrastructure.ts\n\n## Core Invariants\n\n\n## Constraints\n- **PROJECT_ROOT**: process.cwd()\n- **OPENCODE_DIR**: path.join(PROJECT_ROOT, \".opencode\")\n- **TEST_DIR**: path.join(OPENCODE_DIR, \"tests\")\n- **BENCHMARK_DIR**: path.join(OPENCODE_DIR, \"benchmarks\")\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nError handling metrics: 7 try-catch blocks, 1 throw statements\n\n## Performance Considerations\nPerformance patterns: Uses parallel execution (Promise.all), Contains explicit loops\n\n## Security Considerations\nSecurity alerts: Critical security risk (eval usage)",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.444Z",
    "updated_at": "2026-01-30T05:26:52.444Z",
    "hash": "5e282efe86f2453113fb0d5944d0d84474440312df7294db8178cca32cc9cb88",
    "dependencies": [
      "@opencode-ai/plugin",
      "node:child_process",
      "node:fs/promises",
      "node:fs",
      "node:path",
      "node:util",
      "node:crypto"
    ],
    "symbols": [
      "execAsync",
      "PROJECT_ROOT",
      "OPENCODE_DIR",
      "TEST_DIR",
      "BENCHMARK_DIR",
      "log",
      "runCmd",
      "error",
      "ensureTestDirs",
      "TestResult",
      "TestSuite",
      "testingTools",
      "startTime",
      "suite",
      "gitWorktreeTests",
      "systemToolTests",
      "regex",
      "resultsPath",
      "error",
      "startTime",
      "results",
      "agentPromises",
      "i",
      "agentResults",
      "i",
      "result",
      "resultsPath",
      "error",
      "startTime",
      "results",
      "resultsPath",
      "error",
      "startTime",
      "results",
      "scenario",
      "error",
      "testGitWorktreeContracts",
      "tests",
      "testSystemToolContracts",
      "tests",
      "runTest",
      "startTime",
      "result",
      "error",
      "determineSuiteStatus",
      "failed",
      "passed",
      "simulateAgentOperations",
      "operations",
      "startTime",
      "i",
      "operation",
      "delay",
      "detectConflicts",
      "conflicts",
      "fileAccesses",
      "result",
      "op",
      "file",
      "calculatePerformanceMetrics",
      "totalOperations",
      "totalDuration",
      "avgSuccessRate",
      "benchmarkChunking",
      "results",
      "startTime",
      "i",
      "iterationStart",
      "data",
      "chunks",
      "iterationTime",
      "benchmarkRetrieval",
      "results",
      "i",
      "iterationStart",
      "iterationTime",
      "benchmarkTools",
      "results",
      "tools",
      "tool",
      "toolResults",
      "i",
      "iterationStart",
      "iterationTime",
      "runPatchValidationScenario",
      "startTime",
      "error",
      "generateTestData",
      "sizes",
      "length",
      "simulateChunking",
      "chunkSize",
      "chunks",
      "i",
      "simulateRetrieval",
      "delay",
      "simulateToolExecution",
      "delays",
      "delay",
      "createPatchTestData",
      "testDataDir",
      "testBasicPatchValidation",
      "testConflictResolution",
      "testPatchRollback",
      "testEdgeCases",
      "getBestPerformancing",
      "times",
      "getWorstPerformancing",
      "times",
      "generateRecommendations",
      "recommendations",
      "generatePatchRecommendations",
      "recommendations"
    ],
    "complexity_score": 100
  }
}