{
  "id": "tool-cache.ts-summary-db77e43e",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-dynamic-context-pruning/lib/state/tool-cache.ts",
  "chunk_type": "summary",
  "content": "# Summary: tool-cache.ts\n\n## File Type\n.ts - TypeScript source file\n\n## Purpose\nPurpose not explicitly documented\n\n## Key Components\n\n### Functions (2)\n- **syncToolCache**: Sync tool parameters from OpenCode's session.messages() API.\n- **trimToolParametersCache**: Trim the tool parameters cache to prevent unbounded memory growth.\nUses FIFO eviction - removes oldest entries first.\n\n\n\n\n## Dependencies\n- ./index\n- ../logger\n- ../config\n- ../shared-utils\n\n## Exports\n- syncToolCache\n- trimToolParametersCache\n\n## Complexity Metrics\n- Lines of code: 106\n- Estimated complexity: 100/100\n\n## Notes\nNo specific notes found",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.172Z",
    "updated_at": "2026-01-30T05:26:52.172Z",
    "hash": "b64d1b0e961aeee36be39e73d62c7ce0a57be0a29b6e02d0a5b8616f846e2774",
    "dependencies": [
      "./index",
      "../logger",
      "../config",
      "../shared-utils"
    ],
    "symbols": [
      "MAX_TOOL_CACHE_SIZE",
      "syncToolCache",
      "turnCounter",
      "msg",
      "parts",
      "part",
      "turnProtectionEnabled",
      "turnProtectionTurns",
      "isProtectedByTurn",
      "allProtectedTools",
      "error",
      "trimToolParametersCache",
      "keysToRemove",
      "key"
    ],
    "complexity_score": 100
  }
}