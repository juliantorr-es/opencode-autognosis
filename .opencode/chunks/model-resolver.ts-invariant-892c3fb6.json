{
  "id": "model-resolver.ts-invariant-892c3fb6",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/src/plugin/transform/model-resolver.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: model-resolver.ts\n\n## Core Invariants\n\n\n## Constraints\n- **THINKING_TIER_BUDGETS**: {\n  claude: { low: 8192, medium: 16384, high: 32768 },\n  \"gemini-2.5-pro\": { low: 8192, medium: 16384, high: 32768 },\n  \"gemini-2.5-flash\": { low: 6144, medium: 12288, high: 24576 },\n  default: { low: 4096, medium: 8192, high: 16384 },\n} as const\n- **GEMINI_3_THINKING_LEVELS**: [\"minimal\", \"low\", \"medium\", \"high\"] as const\n- **TIER_REGEX**: /-(minimal|low|medium|high)$/\n- **QUOTA_PREFIX_REGEX**: /^antigravity-/i\n- **ANTIGRAVITY_ONLY_MODELS**: /^(claude|gpt)/i\n- **IMAGE_GENERATION_MODELS**: /image|imagen/i\n- **LEGACY_ANTIGRAVITY_GEMINI3**: /^gemini-3-(pro-(low|high)|flash(-low|-medium|-high)?)$/i\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nNo explicit error handling patterns detected\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.112Z",
    "updated_at": "2026-01-30T05:26:52.112Z",
    "hash": "4773c2b2cfbe7a5359eb56ef041544573bb882ce14104a8e4eda025e085e2b6a",
    "dependencies": [
      "./types"
    ],
    "symbols": [
      "THINKING_TIER_BUDGETS",
      "GEMINI_3_THINKING_LEVELS",
      "MODEL_ALIASES",
      "MODEL_FALLBACKS",
      "TIER_REGEX",
      "QUOTA_PREFIX_REGEX",
      "ANTIGRAVITY_ONLY_MODELS",
      "IMAGE_GENERATION_MODELS",
      "LEGACY_ANTIGRAVITY_GEMINI3",
      "supportsThinkingTiers",
      "lower",
      "extractThinkingTierFromModel",
      "tierMatch",
      "getBudgetFamily",
      "isThinkingCapableModel",
      "lower",
      "resolveModelWithTier",
      "isAntigravity",
      "modelWithoutQuota",
      "tier",
      "baseName",
      "isAntigravityOnly",
      "isLegacyAntigravity",
      "isImageModel",
      "quotaPreference",
      "explicitQuota",
      "isGemini3",
      "skipAlias",
      "isGemini3Pro",
      "isGemini3Flash",
      "antigravityModel",
      "actualModel",
      "resolvedModel",
      "isThinking",
      "isEffectiveGemini3",
      "isClaudeThinking",
      "budgetFamily",
      "budgets",
      "thinkingBudget",
      "getModelFamily",
      "lower",
      "VariantConfig",
      "budgetToGemini3Level",
      "resolveModelForHeaderStyle",
      "lower",
      "isGemini3",
      "transformedModel",
      "isGemini3Pro",
      "hasTierSuffix",
      "prefixedModel",
      "transformedModel",
      "resolveModelWithVariant",
      "base",
      "budget",
      "isGemini3",
      "level",
      "isAntigravityGemini3Pro",
      "actualModel",
      "baseModel"
    ],
    "complexity_score": 100
  }
}