{
  "id": "signature-cache.ts-api-048c6caa",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/src/plugin/cache/signature-cache.ts",
  "chunk_type": "api",
  "content": "# API Surface: signature-cache.ts\n\n## Public Functions\n\n### createSignatureCache\n```typescript\nexport function createSignatureCache(config: SignatureCacheConfig | undefined): SignatureCache | null\n```\nCreate a signature cache with the given configuration.\nReturns null if caching is disabled.\n\n**Parameters:**\n- `config`: SignatureCacheConfig | undefined - \n\n**Returns:** SignatureCache | null\n\n\n## Classes\n\n### SignatureCache\n```typescript\nexport class SignatureCache\n```\nNo documentation found\n\n**Methods:**\n- `makeKey`: static makeKey(sessionId: string, modelId: string): string\n- `store`: store(key: string, signature: string): void\n- `retrieve`: retrieve(key: string): string | null\n- `has`: has(key: string): boolean\n- `storeThinking`: storeThinking(\n    key: string,\n    thinkingText: string,\n    signature: string,\n    toolIds?: string[],\n  ): void\n- `retrieveThinking`: retrieveThinking(key: string): ThinkingCacheData | null\n- `hasThinking`: hasThinking(key: string): boolean\n- `getStats`: getStats(): CacheStats\n- `flush`: async flush(): Promise<boolean>\n- `shutdown`: shutdown(): void\n- `loadFromDisk`: private loadFromDisk(): void\n- `saveToDisk`: private saveToDisk(): boolean\n- `startBackgroundTasks`: private startBackgroundTasks(): void\n- `cleanupExpired`: private cleanupExpired(): void\n\n\n**Properties:**\n- `cache`: Map<string, CacheEntry>\n- `memoryTtlMs`: number\n- `diskTtlMs`: number\n- `writeIntervalMs`: number\n- `cacheFilePath`: string\n- `enabled`: boolean\n- `dirty`: boolean\n- `writeTimer`: ReturnType<typeof setInterval> | null\n- `cleanupTimer`: ReturnType<typeof setInterval> | null\n- `stats`: any\n\n\n\n## Interfaces\n\n### CacheEntry\n```typescript\ninterface CacheEntry\n```\nNo documentation found\n\n\n### CacheData\n```typescript\ninterface CacheData\n```\nNo documentation found\n\n\n### CacheStats\n```typescript\ninterface CacheStats\n```\nNo documentation found\n\n\n### ThinkingCacheData\n```typescript\nexport interface ThinkingCacheData\n```\nFull thinking content with signature (for recovery)\n\n\n## Types\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:51.923Z",
    "updated_at": "2026-01-30T05:26:51.923Z",
    "hash": "9a2b64f822d1754cba64701ddecc9fe7fa0d4a2e2a8b0d881ec1e2fcce566b1c",
    "dependencies": [
      "node:fs",
      "node:path",
      "node:os",
      "node:os",
      "../config",
      "../storage"
    ],
    "symbols": [
      "CacheEntry",
      "CacheData",
      "CacheStats",
      "ThinkingCacheData",
      "getConfigDir",
      "platform",
      "xdgConfig",
      "getCacheFilePath",
      "SignatureCache",
      "entry",
      "age",
      "entry",
      "age",
      "entry",
      "age",
      "entry",
      "age",
      "content",
      "data",
      "now",
      "loaded",
      "expired",
      "age",
      "dir",
      "now",
      "existingEntries",
      "content",
      "data",
      "validDiskEntries",
      "age",
      "mergedEntries",
      "cacheData",
      "tmpPath",
      "now",
      "cleaned",
      "age",
      "createSignatureCache"
    ],
    "complexity_score": 100
  }
}