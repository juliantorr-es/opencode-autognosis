{
  "id": "config.ts-invariant-80e9f42b",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-dynamic-context-pruning/lib/config.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: config.ts\n\n## Core Invariants\n\n\n## Constraints\n- **DEFAULT_PROTECTED_TOOLS**: [\n    \"task\",\n    \"todowrite\",\n    \"todoread\",\n    \"discard\",\n    \"extract\",\n    \"batch\",\n    \"write\",\n    \"edit\",\n    \"plan_enter\",\n    \"plan_exit\",\n]\n\n// Valid config keys for validation against user config\nexport const VALID_CONFIG_KEYS\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nError handling metrics: 6 try-catch blocks, 0 throw statements\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.149Z",
    "updated_at": "2026-01-30T05:26:52.149Z",
    "hash": "b061b852995af65203ee0f53a69cddec31af24013656a3caa9c456ecc3758859",
    "dependencies": [
      "fs",
      "path",
      "os",
      "jsonc-parser",
      "@opencode-ai/plugin"
    ],
    "symbols": [
      "Deduplication",
      "DiscardTool",
      "ExtractTool",
      "ToolSettings",
      "Tools",
      "Commands",
      "SupersedeWrites",
      "PurgeErrors",
      "TurnProtection",
      "PluginConfig",
      "DEFAULT_PROTECTED_TOOLS",
      "VALID_CONFIG_KEYS",
      "getConfigKeyPaths",
      "keys",
      "key",
      "fullKey",
      "getInvalidConfigKeys",
      "userKeys",
      "ValidationError",
      "validateConfigTypes",
      "errors",
      "validValues",
      "commands",
      "tools",
      "strategies",
      "showConfigValidationWarnings",
      "invalidKeys",
      "typeErrors",
      "configType",
      "messages",
      "keyList",
      "suffix",
      "err",
      "defaultConfig",
      "GLOBAL_CONFIG_DIR",
      "GLOBAL_CONFIG_PATH_JSONC",
      "GLOBAL_CONFIG_PATH_JSON",
      "findOpencodeDir",
      "current",
      "candidate",
      "parent",
      "getConfigPaths",
      "globalPath",
      "configDirPath",
      "opencodeConfigDir",
      "configJsonc",
      "configJson",
      "projectPath",
      "opencodeDir",
      "projectJsonc",
      "projectJson",
      "createDefaultConfig",
      "configContent",
      "ConfigLoadResult",
      "loadConfigFile",
      "fileContent",
      "parsed",
      "error",
      "mergeStrategies",
      "mergeTools",
      "mergeCommands",
      "deepCloneConfig",
      "getConfig",
      "config",
      "configPaths",
      "result",
      "result",
      "result"
    ],
    "complexity_score": 100
  }
}