{
  "id": "activeset.ts-invariant-d771ddaa",
  "file_path": "/Users/user/opencode-autognosis/src/activeset.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: activeset.ts\n\n## Core Invariants\n\n\n## Constraints\n- **PROJECT_ROOT**: process.cwd()\n- **OPENCODE_DIR**: path.join(PROJECT_ROOT, \".opencode\")\n- **ACTIVESET_DIR**: path.join(OPENCODE_DIR, \"activesets\")\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nError handling metrics: 11 try-catch blocks, 0 throw statements\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.406Z",
    "updated_at": "2026-01-30T05:26:52.406Z",
    "hash": "a4f263875d3131aa2a77139a024bbc774ddf05e81b34a0698957b77cee141f3c",
    "dependencies": [
      "@opencode-ai/plugin",
      "node:fs/promises",
      "node:fs",
      "node:path",
      "node:crypto"
    ],
    "symbols": [
      "PROJECT_ROOT",
      "OPENCODE_DIR",
      "ACTIVESET_DIR",
      "log",
      "ActiveSet",
      "WorkingMemory",
      "ensureActiveSetDir",
      "generateActiveSetId",
      "calculateContextUsage",
      "loadActiveSet",
      "setPath",
      "content",
      "error",
      "saveActiveSet",
      "setPath",
      "loadWorkingMemory",
      "memoryPath",
      "content",
      "error",
      "saveWorkingMemory",
      "memoryPath",
      "activeSetTools",
      "activeSet",
      "memory",
      "error",
      "activeSet",
      "memory",
      "error",
      "memory",
      "targetSetId",
      "activeSet",
      "newChunks",
      "newUsage",
      "uniqueChunks",
      "error",
      "memory",
      "targetSetId",
      "activeSet",
      "originalLength",
      "error",
      "memory",
      "activeSet",
      "response",
      "error",
      "files",
      "activeSets",
      "file",
      "setPath",
      "activeSet",
      "setInfo",
      "error",
      "limitedSets",
      "error",
      "memory",
      "setPath",
      "error",
      "memory",
      "closedSetId",
      "error"
    ],
    "complexity_score": 100
  }
}