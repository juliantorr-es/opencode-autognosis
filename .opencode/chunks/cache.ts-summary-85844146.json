{
  "id": "cache.ts-summary-85844146",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-google-antigravity-auth/src/plugin/cache.ts",
  "chunk_type": "summary",
  "content": "# Summary: cache.ts\n\n## File Type\n.ts - TypeScript source file\n\n## Purpose\nDocumented purpose found in JSDoc\n\n## Key Components\n\n### Functions (8)\n- **normalizeRefreshKey**: Produces a stable cache key from a refresh token string.\n- **resolveCachedAuth**: Returns a cached auth snapshot when available, favoring unexpired tokens.\n- **storeCachedAuth**: Stores the latest auth snapshot keyed by refresh token.\n- **clearCachedAuth**: Clears cached auth globally or for a specific refresh token.\n- **normalizeThoughtText**: Generates a SHA-256 hash key for a thought block.\nWe hash (family + \":\" + sessionId + \":\" + thoughtText) to ensure uniqueness per model family.\n- **getSignatureKey**: No documentation found\n- **cacheSignature**: Caches a thought signature for a given session and thought text.\nImplements a simple LRU-like eviction policy (clears old entries when limit reached).\n- **getCachedSignature**: No documentation found\n\n\n\n\n## Dependencies\n- node:crypto\n- ./auth\n- ./types\n\n## Exports\n- resolveCachedAuth\n- storeCachedAuth\n- clearCachedAuth\n- ModelFamily\n- cacheSignature\n- getCachedSignature\n\n## Complexity Metrics\n- Lines of code: 101\n- Estimated complexity: 68.1/100\n\n## Notes\nNo specific notes found",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.198Z",
    "updated_at": "2026-01-30T05:26:52.198Z",
    "hash": "391cd364052cbb914c6fe78197bd8ad83b13d01c3f44690bbea84ba86f0c964f",
    "dependencies": [
      "node:crypto",
      "./auth",
      "./types"
    ],
    "symbols": [
      "authCache",
      "normalizeRefreshKey",
      "key",
      "resolveCachedAuth",
      "key",
      "cached",
      "storeCachedAuth",
      "key",
      "clearCachedAuth",
      "key",
      "signatureCache",
      "ModelFamily",
      "normalizeThoughtText",
      "getSignatureKey",
      "normalizedText",
      "input",
      "cacheSignature",
      "key",
      "getCachedSignature",
      "key"
    ],
    "complexity_score": 68.1
  }
}