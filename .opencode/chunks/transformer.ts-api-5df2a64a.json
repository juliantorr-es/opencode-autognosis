{
  "id": "transformer.ts-api-5df2a64a",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/src/plugin/core/streaming/transformer.ts",
  "chunk_type": "api",
  "content": "# API Surface: transformer.ts\n\n## Public Functions\n\n### createThoughtBuffer\n```typescript\nexport function createThoughtBuffer(): ThoughtBuffer\n```\nNo documentation found\n\n**Returns:** ThoughtBuffer\n\n\n### transformStreamingPayload\n```typescript\nexport function transformStreamingPayload(\n  payload: string,\n  transformThinkingParts?: (response: unknown) => unknown,\n): string\n```\nNo documentation found\n\n**Parameters:**\n- `payload`: string - \n- `transformThinkingParts`: (response: unknown) => unknown - \n\n**Returns:** string\n\n\n### deduplicateThinkingText\n```typescript\nexport function deduplicateThinkingText(\n  response: unknown,\n  sentBuffer: ThoughtBuffer,\n  displayedThinkingHashes?: Set<string>,\n): unknown\n```\nNo documentation found\n\n**Parameters:**\n- `response`: unknown - \n- `sentBuffer`: ThoughtBuffer - \n- `displayedThinkingHashes`: Set<string> - \n\n**Returns:** unknown\n\n\n### transformSseLine\n```typescript\nexport function transformSseLine(\n  line: string,\n  signatureStore: SignatureStore,\n  thoughtBuffer: ThoughtBuffer,\n  sentThinkingBuffer: ThoughtBuffer,\n  callbacks: StreamingCallbacks,\n  options: StreamingOptions,\n  debugState:\n```\nNo documentation found\n\n**Parameters:**\n- `line`: string - \n- `signatureStore`: SignatureStore - \n- `thoughtBuffer`: ThoughtBuffer - \n- `sentThinkingBuffer`: ThoughtBuffer - \n- `callbacks`: StreamingCallbacks - \n- `options`: StreamingOptions - \n- `debugState`: { injected: boolean } - \n\n**Returns:** string\n\n\n### cacheThinkingSignaturesFromResponse\n```typescript\nexport function cacheThinkingSignaturesFromResponse(\n  response: unknown,\n  signatureSessionKey: string,\n  signatureStore: SignatureStore,\n  thoughtBuffer: ThoughtBuffer,\n  onCacheSignature?: (sessionKey: string, text: string, signature: string) => void,\n): void\n```\nNo documentation found\n\n**Parameters:**\n- `response`: unknown - \n- `signatureSessionKey`: string - \n- `signatureStore`: SignatureStore - \n- `thoughtBuffer`: ThoughtBuffer - \n- `onCacheSignature`: (sessionKey: string, text: string, signature: string) => void - \n\n**Returns:** void\n\n\n### createStreamingTransformer\n```typescript\nexport function createStreamingTransformer(\n  signatureStore: SignatureStore,\n  callbacks: StreamingCallbacks,\n  options: StreamingOptions =\n```\nNo documentation found\n\n**Parameters:**\n- `signatureStore`: SignatureStore - \n- `callbacks`: StreamingCallbacks - \n- `options`: StreamingOptions - \n\n**Returns:** TransformStream<Uint8Array, Uint8Array>\n\n\n## Classes\n\n\n## Interfaces\n\n\n## Types\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:51.942Z",
    "updated_at": "2026-01-30T05:26:51.942Z",
    "hash": "97352ecdd9ddee45b1f46311b8c24352278896a96f7deeaccb5ffc8a06c62b4f",
    "dependencies": [
      "./types",
      "../../image-saver"
    ],
    "symbols": [
      "hashString",
      "hash",
      "i",
      "createThoughtBuffer",
      "buffer",
      "transformStreamingPayload",
      "json",
      "parsed",
      "transformed",
      "_",
      "deduplicateThinkingText",
      "resp",
      "newCandidates",
      "cand",
      "content",
      "newParts",
      "p",
      "inlineData",
      "result",
      "fullText",
      "hash",
      "sentText",
      "delta",
      "filteredParts",
      "thinkingIndex",
      "newContent",
      "b",
      "fullText",
      "hash",
      "sentText",
      "delta",
      "filteredContent",
      "transformSseLine",
      "json",
      "parsed",
      "response",
      "transformed",
      "_",
      "cacheThinkingSignaturesFromResponse",
      "resp",
      "cand",
      "content",
      "p",
      "text",
      "current",
      "fullText",
      "signature",
      "thinkingText",
      "b",
      "signature",
      "createStreamingTransformer",
      "decoder",
      "encoder",
      "buffer",
      "thoughtBuffer",
      "sentThinkingBuffer",
      "debugState",
      "lines",
      "line",
      "transformedLine",
      "transformedLine"
    ],
    "complexity_score": 100
  }
}