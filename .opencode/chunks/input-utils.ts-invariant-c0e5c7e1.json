{
  "id": "input-utils.ts-invariant-c0e5c7e1",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-openai-codex-auth/lib/request/helpers/input-utils.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: input-utils.ts\n\n## Core Invariants\n\n\n## Constraints\n- **OPENCODE_PROMPT_SIGNATURES**: [\n\t\"you are a coding agent running in the opencode\",\n\t\"you are opencode, an agent\",\n\t\"you are opencode, an interactive cli agent\",\n\t\"you are opencode, an interactive cli tool\",\n\t\"you are opencode, the best coding agent on the planet\",\n].map((signature)\n- **OPENCODE_CONTEXT_MARKERS**: [\n\t\"here is some useful information about the environment you are running in:\",\n\t\"<env>\",\n\t\"instructions from:\",\n\t\"<instructions>\",\n].map((marker)\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nError handling metrics: 1 try-catch blocks, 0 throw statements\n\n## Performance Considerations\nNo obvious performance optimization patterns detected\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.299Z",
    "updated_at": "2026-01-30T05:26:52.299Z",
    "hash": "ecdb31e16265dc55ac1f54d15c185a09dc411da55c058e061f6ed2e67a957385",
    "dependencies": [
      "../../types.js"
    ],
    "symbols": [
      "OPENCODE_PROMPT_SIGNATURES",
      "OPENCODE_CONTEXT_MARKERS",
      "getContentText",
      "replaceContentText",
      "extractOpenCodeContext",
      "lower",
      "earliestIndex",
      "marker",
      "index",
      "isOpenCodeSystemPrompt",
      "isSystemRole",
      "contentText",
      "contentTrimmed",
      "cachedTrimmed",
      "contentPrefix",
      "cachedPrefix",
      "normalized",
      "filterOpenCodeSystemPromptsWithCachedPrompt",
      "contentText",
      "preservedContext",
      "getCallId",
      "rawCallId",
      "trimmed",
      "convertOrphanedOutputToMessage",
      "toolName",
      "labelCallId",
      "text",
      "out",
      "collectCallIds",
      "functionCallIds",
      "localShellCallIds",
      "customToolCallIds",
      "item",
      "callId",
      "normalizeOrphanedToolOutputs",
      "callId",
      "hasMatch",
      "callId",
      "hasMatch",
      "callId",
      "hasMatch"
    ],
    "complexity_score": 100
  }
}