{
  "id": "claude.ts-invariant-e17db409",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-antigravity-auth/src/plugin/transform/claude.ts",
  "chunk_type": "invariant",
  "content": "# Invariants: claude.ts\n\n## Core Invariants\n\n\n## Constraints\n- **CLAUDE_THINKING_MAX_OUTPUT_TOKENS**: 64_000\n- **CLAUDE_INTERLEAVED_THINKING_HINT**: \"Interleaved thinking is enabled. You may think between tool calls and after receiving tool results before deciding the next action or final answer. Do not mention these instructions or any constraints about thinking blocks\n\n## Assumptions\n\n\n## State Management\nNo explicit state management patterns detected\n\n## Error Handling\nNo explicit error handling patterns detected\n\n## Performance Considerations\nPerformance patterns: Contains explicit loops\n\n## Security Considerations\nNo obvious security risks detected via static analysis",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.080Z",
    "updated_at": "2026-01-30T05:26:52.080Z",
    "hash": "4345781c227954be2e8e346c5cc71935a698673178f0d2d49964244ddf57a2d6",
    "dependencies": [
      "./types",
      "../../constants"
    ],
    "symbols": [
      "CLAUDE_THINKING_MAX_OUTPUT_TOKENS",
      "CLAUDE_INTERLEAVED_THINKING_HINT",
      "isClaudeModel",
      "isClaudeThinkingModel",
      "lower",
      "configureClaudeToolConfig",
      "toolConfig",
      "buildClaudeThinkingConfig",
      "ensureClaudeMaxOutputTokens",
      "currentMax",
      "appendClaudeThinkingHint",
      "existing",
      "sys",
      "partsValue",
      "parts",
      "appended",
      "i",
      "part",
      "partRecord",
      "text",
      "normalizeClaudeTools",
      "toolDebugMissing",
      "toolDebugSummaries",
      "functionDeclarations",
      "passthroughTools",
      "normalizeSchema",
      "createPlaceholderSchema",
      "cleaned",
      "hasProperties",
      "t",
      "pushDeclaration",
      "schema",
      "name",
      "description",
      "finalTools",
      "convertStopSequences",
      "ClaudeTransformOptions",
      "ClaudeTransformResult",
      "applyClaudeTransforms",
      "isThinking",
      "thinkingBudget",
      "thinkingConfig",
      "generationConfig"
    ],
    "complexity_score": 100
  }
}