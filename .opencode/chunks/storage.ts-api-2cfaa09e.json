{
  "id": "storage.ts-api-2cfaa09e",
  "file_path": "/Users/user/opencode-autognosis/reference repos/opencode-google-antigravity-auth/src/plugin/storage.ts",
  "chunk_type": "api",
  "content": "# API Surface: storage.ts\n\n## Public Functions\n\n### getStoragePath\n```typescript\nexport function getStoragePath(): string\n```\nNo documentation found\n\n**Returns:** string\n\n\n### loadAccounts\n```typescript\nexport async function loadAccounts(): Promise<AccountStorage | null>\n```\nNo documentation found\n\n**Returns:** Promise<AccountStorage | null>\n\n\n### saveAccounts\n```typescript\nexport async function saveAccounts(storage: AccountStorage): Promise<void>\n```\nNo documentation found\n\n**Parameters:**\n- `storage`: AccountStorage - \n\n**Returns:** Promise<void>\n\n\n### migrateFromRefreshString\n```typescript\nexport function migrateFromRefreshString(\n  accountsData: Array<\n```\nNo documentation found\n\n**Parameters:**\n- `accountsData`: Array<{ refreshToken: string; projectId?: string; managedProjectId?: string }> - \n- `emails`: Array<string | undefined> - \n\n**Returns:** AccountStorage\n\n\n## Classes\n\n\n## Interfaces\n\n### RateLimitState\n```typescript\nexport interface RateLimitState\n```\nNo documentation found\n\n\n### AccountMetadataV1\n```typescript\nexport interface AccountMetadataV1\n```\nNo documentation found\n\n\n### AccountStorageV1\n```typescript\nexport interface AccountStorageV1\n```\nNo documentation found\n\n\n### RateLimitStateV2\n```typescript\nexport interface RateLimitStateV2\n```\nNo documentation found\n\n\n### AccountMetadataV2\n```typescript\nexport interface AccountMetadataV2\n```\nNo documentation found\n\n\n### AccountStorageV2\n```typescript\nexport interface AccountStorageV2\n```\nNo documentation found\n\n\n### AccountMetadata\n```typescript\nexport interface AccountMetadata\n```\nNo documentation found\n\n\n### AccountStorage\n```typescript\nexport interface AccountStorage\n```\nNo documentation found\n\n\n## Types\n\n### ModelFamily\n```typescript\nexport type ModelFamily\n```\nNo documentation found\n\n\n### AccountTier\n```typescript\nexport type AccountTier\n```\nNo documentation found\n\n\n### AnyAccountStorage\n```typescript\ntype AnyAccountStorage\n```\nNo documentation found\n",
  "metadata": {
    "created_at": "2026-01-30T05:26:52.243Z",
    "updated_at": "2026-01-30T05:26:52.243Z",
    "hash": "ceecd358733dc789cadddfab75191f5210b50911a124b70b51ae895a8005a216",
    "dependencies": [
      "node:fs",
      "node:path",
      "node:os",
      "./logger"
    ],
    "symbols": [
      "log",
      "ModelFamily",
      "AccountTier",
      "RateLimitState",
      "AccountMetadataV1",
      "AccountStorageV1",
      "RateLimitStateV2",
      "AccountMetadataV2",
      "AccountStorageV2",
      "AccountMetadata",
      "AccountStorage",
      "AnyAccountStorage",
      "getDataDir",
      "platform",
      "xdgData",
      "getStoragePath",
      "migrateV1ToV2",
      "rateLimitResetTimes",
      "migrateV2ToV3",
      "rateLimitResetTimes",
      "loadAccounts",
      "path",
      "content",
      "data",
      "storage",
      "v2",
      "error",
      "saveAccounts",
      "path",
      "content",
      "error",
      "migrateFromRefreshString",
      "now"
    ],
    "complexity_score": 100
  }
}